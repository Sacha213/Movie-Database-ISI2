
## Installation:

* #### Cloner le projet dans votre rÃ©pertoire
	`git clone https://forge.univ-lyon1.fr/p1911249/movie-database-isi2 Netflix`
* #### CrÃ©er les migrations
	`php artisan migrate`
* #### InsÃ©rer les donnÃ©es dans la base de donnÃ©e
	> RÃ©cupÃ©rer le script SQL **netflix.sql** et le lancer dans datagrip.
* #### Lancer le serveur local
	`sudo service mysql start`
	`sudo service apache2 start`
* #### VÃ©rifier que tout fonctionne ğŸ˜‰
	> Aller Ã  l'adresse http://localhost/web/Netflix/netflix/public/home
  
    
    
## Introduction :


Nous avons choisi de faire une copie de Netflix. Ainsi, notre site web regroupe diffÃ©rents films et sÃ©ries du service de streaming. Lâ€™utilisateur pourra ainsi parcourir le contenu proposÃ© sur notre site, et accÃ©der Ã  ces informations.
Nous avons choisi un jeu de donnÃ©es provenant du site [kaggle](https://www.kaggle.com/datasets/shivamb/netflix-shows) et regroupant les informations dont nous avons besoin. Par la suite, nous avons dÃ» traiter ce jeu Ã  lâ€™aide de scripts python, en le sÃ©parant en 7 fichiers **csv**, chacun reprÃ©sentant une table de notre base de donnÃ©es afin de pouvoir lâ€™importer par la suite. De plus le jeu de donnÃ©es Ã©tant relativement important (+8000 show), nous avons choisi de nous restreindre Ã  150 shows.
Notre base de donnÃ©es contient quant Ã  elle 7 tables, reprÃ©sentÃ©es ci-dessous.
![base de donnÃ©es](resources/tables.png)

## Description des tables :

  

La table **show** contient les informations du show.

La table **genres** contient les diffÃ©rentes catÃ©gories que peut avoir un show (ex : Horreur).

La table **acteurs** contient les acteurs ayant jouÃ© dansdes shows.

La table **directeurs** contient les directeurs ayantdirigÃ© des shows.

La table **types** contient les deux types que peuventprendre un show (TV show ou Movie).

Les tables **appartenances** et **participations** permettentde lier les tables acteurs et genres

avec la table shows afin dâ€™avoir des relations 1..n au lieu de n..n.

  

## Le fonctionnement du site:

  

La page dâ€™accueil est la suivante, elle permet dâ€™afficher les films et sÃ©ries de 3 genres diffÃ©rents, les animÃ©s, les films romantiques et les films dâ€™horreur. Nous voyons Ã©galement notre barre de navigation accueillant 3 liens de navigation ainsi que ceux de connexion que nous dÃ©taillerons par la suite. Cette barre est prÃ©sente sur toutes les pages du site grace aux layouts. Si nous cliquons sur le lien â€œFilmsâ€ nous accÃ©dons Ã  une page regroupant tous les films de la base de donnÃ©es.
  

De mÃªme pour le lien â€œSÃ©riesâ€:

  

SinouscliquonssurunfilmsansÃªtreconnectÃ©,onnousproposedenousconnecterpour

accÃ©der au contenu du programme.

  

Cliquons alors sur le lien â€œSe connecterâ€.

  
  

On remarque dans la barre de navigation que l'utilisateur est bien connectÃ© car son nom

apparaÃ®t.

  

Nous pouvons donc cliquer sur un film pour accÃ©der Ã  son contenu.

  

A partir de cette vue nous pouvons accÃ©der Ã  la page des acteurs en cliquant le nom dâ€™un

de ces derniers. On clique ici sur lâ€™actrice â€œChie Nakamuraâ€, on a donc accÃ¨s Ã  tous les films

dans lesquels elle Ã  jouÃ©.

  
  

En revenant sur la page de contenu dâ€™un programme on peut cliquer sur un des â€œGenresâ€

pour accÃ©der Ã  la page contenant tous les films appartenant Ã  ce genre. Ici nous avons

cliquÃ© sur le genre â€œInternational Moviesâ€.

  
  

## Les modÃ¨les :

  

Nous avons 8 modÃ¨les Acteur, Appartenance, Directeur, Genre, Participation, Show, Type et

User. Chacun d'eux est liÃ©e Ã  une table de notre base de donnÃ©es. Voici la reprÃ©sentation de

nos modÃ¨les dans Laravel.

  

## Les vues :

  

Nous utilisons un seul layout â€œhomeLayout.blade.phpâ€, les autres sont ceux crÃ©Ã©s

automatiquement par laravel. Il permet de dÃ©finir pour toutes les vues la mÃªme structure de

page, c'est-Ã -dire la navbar et le footer.

  

Nous avons 6 vues et chacune dâ€™elle est associÃ©e Ã  une page du site

  

### .

  

La vue **acteurs** permet dâ€™afficher les film dâ€™un acteur.

La vue **genres** permet dâ€™afficher les films dâ€™un mÃªmegenre.

  
  

La vue **index** est la page dâ€™accueil qui affiche plusieurs films de notre BD.

La vue **movies** permet dâ€™afficher tous les films dela BD.

La vue **show** permet dâ€™afficher les informations dâ€™unshow.

La vue **tv** permet dâ€™afficher toutes les sÃ©ries de laBD.

  

## Les contrÃ´leurs :

  

Nous avons crÃ©Ã© 7 contrÃ´leurs : ActeurController, DirecteurController, GenreController,

MovieController, ShowController, TvController, TypeController.

  

Le contrÃ´leur **show** Ã  deux mÃ©thodes. La mÃ©thode indexrenvoie trois types de show

diffÃ©rents, des animes, des horreurs et des romantiques.

  
  

La mÃ©thode show qui prend en paramÃ¨tre lâ€™id dâ€™un show. Et qui renvoie toutes les

informations liÃ©e Ã  celui-ci (acteurs, directeurs, descriptions, nom, ...).

  

Le contrÃ´leur **acteur** Ã  une mÃ©thode show prenant enparamÃ¨tre lâ€™id dâ€™un film. Afin de nous

permettre de rÃ©cupÃ©rer tous les acteurs qui ont jouÃ© dans ce film.

  

Le contrÃ´leur genre Ã  une mÃ©thode show qui prend en paramÃ¨tre lâ€™id dâ€™un film. Et qui

retourne les films ayant le mÃªme genre que celui passÃ© en paramÃ¨tre.

  
  

Le contrÃ´leur **TV** Ã  une mÃ©thode index qui rÃ©cupÃ¨retous les show ayant le type 2 (TV

show).

  

Le contrÃ´leur **Movie** Ã  une mÃ©thode index qui renvoietous les films de la base de donnÃ©es.

  
  

## Les routes :

  

Voici nos 7 routes, associÃ©es Ã  chacune des pages de notre site. Les deux premiÃ¨res

servent Ã  afficher la page dâ€™accueil. les 4 suivantes affichent leur page Ã©ponymes. Enfin la

derniÃ¨re permet de gÃ©rer lâ€™authentification.

  

## Les migrations :

  

Voici un exemple de migration pour la table show.

  
  

## Les Ã©tapes :

  

Etape 1 : CrÃ©ation du jeu de donnÃ©es

Etape 2 : CrÃ©ation des model avec make Model â€“migration

Etape 3 : CrÃ©ation des migrations

Etape 4 : Insertion du jeu de donnÃ©es dans la BD

Etape 5 : CrÃ©ation des contrÃ´leurs

Etape 6 : CrÃ©ation des vues

Etape 7 : CrÃ©ation des routes